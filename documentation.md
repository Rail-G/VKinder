# VKinder - бот для знакомств
Бот VK для поиска второй половинки.  
Клиент заходит в чат с ботом, бот подбирает потенциальных кандидатов для клиента. Клиент может добавить пользователя в избранное, в черный список или пропустить.  
Так же у клиента есть возможность поставить фотографиям кандидата лайк и позже просматривать лайкнутые фотографии.
# Установка 
Все зависимости указанны в файле requirements.txt.  
Для установки воспользуйтесь терминалом и командой pip install -r requirements.txt.  
В файле config.py необходимо указать диалект базы данных (DIALECT), имя пользователя (USERNAME) и пароль (PASSWORD) вашей базы данных, адрес сервера базы данных(HOST) и имя базы данных(DATABASE).  

## Управление базой данных
### Файл db_connection.py.  
### Функции для управления базой данных
#### meh
Данная функция создает все таблицы базы данных.

#### dbconnect
Декоратор для управления соединения с базой данных.  
В args передается функция к которой применяется декоратор. Возвращает обернутую функцию управляющую сессией базы данных.
#### _dbconnect 
Функция-обертка для управления соединением с базой данных.  
Возвращает результат выполнения функции.
#### add_client
Добавляет нового клиента в таблицу Clients.  
Необходимо передать в функцию VK id клиента.
#### add_user
Добавляет нового пользователя (потенциального партнера) подобранного для клиента.  
Необходимо передать словарь с информацией о пользователе (VK id пользователя, имя и фамилию), а так же VK id клиента.
#### drop_users
Очищает таблицу Users.  
Необходимо передать VK id клиента
#### get_user
Ищет пользователя в таблице Users.  
Необходимо передать Primary key пользователя.  
Возвращает кортеж с VK id, имя и фамилию пользователя.
#### add_user_to_favorites
Добавляет пользователя в таблицу Favorites.  
Необходимо передать словарь с информацией о пользователе (VK id пользователя, имя и фамилию), а так же VK id клиента.
#### delete_from_favorites
Удаляет пользователя из таблицы Favorites.  
Необходимо передать VK id пользователя.
#### all_favorites
Выводит всех пользователей в таблице Favorites.  
Необходимо передать VK id клиента.  
Возвращает кортеж с Vk id, именем и фамилией пользователей.
#### add_liked_photos
Добавляет в таблицу Likes фотографии, которым клиент поставил лайк.  
Необходимо передать VK id фотографии и VK id клиента.
#### del_liked_photo
Удаляет фотографию из таблицы Likes.  
Необходимо передать VK id фотографии.
#### show_liked_photos
Выводит все фотографии, которым клиент поставил лайк.  
Необходимо передать VK id клиента.  
Возвращает кортеж с VK id фотографий.
#### add_to_blocked
Добавляет пользователя в черный список. Если пользователь находится в таблице Favorites, то удаляет его из Favorites и добавляет в Blocked.  
Необходимо передать словарь с информацией о пользователе (VK id пользователя, имя и фамилию), а так же VK id клиента.
#### all_blocked
Выводит всех пользователей в таблице Blocked.  
Необходимо передать VK id клиента.  
Возвращает кортеж с VK id, именем и фамилией пользователей.
#### delete_from_blocked
Удаляет пользователя из таблицы Blocked.  
Необходимо передать VK id пользователя.
#### delete_all
Очищает все таблицы в базе данных.  
Необходимо передать VK id клиента.

#### version = 1.0