# Документация
## Управление базой данных
### Файл db_connection.py.  
### Функции для управления базой данных
#### create_table
Данная функция создает все таблицы базы данных.

#### dbconnect
Декоратор для управления соединения с базой данных.  
В args передается функция к которой применяется декоратор. Возвращает обернутую функцию управляющую сессией базы данных.
#### _dbconnect 
Функция-обертка для управления соединением с базой данных.  
Возвращает результат выполнения функции.
#### add_client
Добавляет нового клиента в таблицу Clients.  
Необходимо передать в функцию VK id клиента.
#### add_user
Добавляет нового пользователя (потенциального партнера) подобранного для клиента.  
Необходимо передать словарь с информацией о пользователе (VK id пользователя, имя и фамилию), а так же VK id клиента.
#### drop_users
Очищает таблицу Users.  
Необходимо передать VK id клиента
#### get_user
Ищет пользователя в таблице Users.  
Необходимо передать Primary key пользователя.  
Возвращает кортеж с VK id, имя и фамилию пользователя.
#### add_user_to_favorites
Добавляет пользователя в таблицу Favorites.  
Необходимо передать словарь с информацией о пользователе (VK id пользователя, имя и фамилию), а так же VK id клиента.
#### delete_from_favorites
Удаляет пользователя из таблицы Favorites.  
Необходимо передать VK id пользователя.
#### all_favorites
Выводит всех пользователей в таблице Favorites.  
Необходимо передать VK id клиента.  
Возвращает кортеж с Vk id, именем и фамилией пользователей.
#### add_liked_photos
Добавляет в таблицу Likes фотографии, которым клиент поставил лайк.  
Необходимо передать VK id фотографии и VK id клиента.
#### del_liked_photo
Удаляет фотографию из таблицы Likes.  
Необходимо передать VK id фотографии.
#### show_liked_photos
Выводит все фотографии, которым клиент поставил лайк.  
Необходимо передать VK id клиента.  
Возвращает кортеж с VK id фотографий.
#### add_to_blocked
Добавляет пользователя в черный список. Если пользователь находится в таблице Favorites, то удаляет его из Favorites и добавляет в Blocked.  
Необходимо передать словарь с информацией о пользователе (VK id пользователя, имя и фамилию), а так же VK id клиента.
#### all_blocked
Выводит всех пользователей в таблице Blocked.  
Необходимо передать VK id клиента.  
Возвращает кортеж с VK id, именем и фамилией пользователей.
#### delete_from_blocked
Удаляет пользователя из таблицы Blocked.  
Необходимо передать VK id пользователя.
#### delete_all
Очищает все таблицы в базе данных.  
Необходимо передать VK id клиента.

#### version = 1.0

## Управления ботом
### Файл buttons.py
### Класс Button для управления функциями кнопки бота
### Функции: 
1) Button.start
2) Button.next 
3) Button.delete_black_list 
4) Button.yes_or_no
5) Button.delete_photo
6) Button.delete_favorite
7) Button.back_to_menu
8) Button.like_dislike

Выполняют одинаковую функцию по созданию кнопок для бота.

### Файл config.py
Главный файл для настройки подключения:
1) ## Бота: 
- GROUP_TOKEN - Токен группы в ВКонтакте, где будет установлен бот, с нужными правами чтение сообщения и управление сообществом.
- USER_TOKEN - Токен пользователя в ВКонтакте с нужными правами чтения профиля.
- GROUP_ID - ID группы ВКонтакте, где будет установлен бот.
1) ## Количество вывода пользователей при поиске: 
- COUNT - Количество выдаваемых пользователей при поиске (По умолчания максимум 20).
1) ## Базы данных: 
- DIALECT - Имя Базы Данных.
- USERNAME - Логин для подключения к Базе Данных.
- PASSWORD - Пароль для подключения к Базе Данных.
- HOST - Порт для подключения к Базе Данных.
- DATABASE - Название Базы Данных.

### Файл main_menu.py
Главная зона подключения к боту ВКонтакте.

### Файл bot.py
###### Оныные: Клиент - пользователь начавший диалог с ботом ВКонтакте. Пользователь - результат поиска.
#### Класс VKinder для управления функциями бота ВКонтакте.
#### Функции:
1) bot_write.
Отправляет клиенту сообщения.
Параметры функции:
user_id - ID клиента.
message - Текст, отправляемый ботом, клиенту.
keyboard - Использует функции класса Button.
2) user_name - Возвращает имя клиента.
3) user_bdat - Возвращает возраст клиента.
Параметры функции:
user_id - ID клиента.
4) user_city - Возвращает кортеж с ID и названием города.
Параметры функции:
user_id - ID клиента.
5) user_sex - Возвращает противоложный пол клиента.
6) search_partner - Производит поиск пользователей, подходящий под запрос клиента и добавляет результат в базу даннх.
Параметры функции:
user_id - ID клиента.
7) photo_id - Возвращает 3 ID самых популярных фотографии профиля пользователя.
Параметры функции:
owner_id - ID пользователя.
8) send_photos - Отправляет клиенту 3 фотографии.
Параметры функции:
user_id - ID клиента.
pk_number - Число ключа, необходимый для Базы Данных.
9) calculate_age - Высчитывает возраст клиента. 
Параметры функции:
date - Полная дата рождения клиента.
10) delete_favorites - Удаляет избранного пользователя в таблице Favorites, базы данных.
Параметры функции:
user_id - ID клиента.
11) delete_black_list - Удаляет пользователя из черного списка в таблице Blocked, базы данных.
Параметры функции:
user_id - ID клиента.
12) delete_photo - Удаляет понравившую фотографию в таблице Likes, базы данных.
Параметры функции:
user_id - ID клиента.
pk_number - Число ключа, необходимый для Базы Данных.
13) get_user - Возвращает словарь, с данными о пользователи.
Параметры функции:
pk_number - Число ключа, необходимый для Базы Данных.
14) show_favorite - Отправляет сообщение клиенту, со всем пользователям находящимися в таблице Favorites, базы данных.
Параметры функции:
user_id - ID клиента.
15) show_blocked - Отправляет сообщение клиенту, со всем пользователям находящимися в таблице Blocked, базы данных.
Параметры функции:
user_id - ID клиента.
16) show_liked_photo - Отправляет сообщение клиенту, со всем фотографиями находящимися в таблице Likes, базы данных.
Параметры функции:
user_id - ID клиента.
pk_number - Число ключа, необходимый для Базы Данных.
